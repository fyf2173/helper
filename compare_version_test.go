package helper

import "testing"

func TestCompareVersion(t *testing.T) {
	var versionTestSlice = [][]string{
		{">", "2.2.1", "2.2.0"},
		{">", "2.2.1", "2.1.9"},
		{"=", "2.2.1", "2.2.01"},
		{">", "2.2", "2.1.1"},
		{"<", "2.2", "2.2.1"},
		{"<", "2.2.3.1", "2.2.3.5"},
		{">", "2.2.3.1", "2.2.3.0"},
		{"<", "2.2.3.4", "2.2.4.4.5"},
		{"<", "2.2.3.4.5.6", "2.2.3.4.5.12"},
		{">", "2.2.3.4.5.6", "2.2.2.4.5.12"},
		{">", "3.0.0.1", "3.0.0.0.1"},
		{">", "v2.2.1", "v2.2.0"},
		{">", "v2.2.1", "v2.1.9"},
		{"=", "v2.2.1", "v2.2.01"},
		{">", "v2.2", "v2.1.1"},
		{"<", "v2.2", "v2.2.1"},
		{"<", "v2.2.3.1", "v2.2.3.5"},
		{">", "v3.0.1", "v2.3.5"},
		{"=", "3.1", "3.1."},
	}
	for _, v := range versionTestSlice {
		t.Logf("Expect %s %s %s -> %d", v[1], v[0], v[2], CompareVersion(v[1], v[2]))
	}
}